(this.webpackJsonpuntitled=this.webpackJsonpuntitled||[]).push([[0],{12:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return f}));var s=n(65),a=n(10),r=n(29),i=Object(s.a)({name:"app",initialState:{initialized:!1,globalMessage:[]},reducers:{toggleInitialized:function(e,t){e.initialized=t.payload},setGlobalMessage:function(e,t){var n=t.payload,s=n.message,a=n.isSuccess;e.globalMessage.push({message:s,isSuccess:a})},removeGlobalMessage:function(e){e.globalMessage=[]}}}),c=i.actions,o=c.toggleInitialized,u=c.setGlobalMessage,l=c.removeGlobalMessage,d=function(){return{initialized:Object(r.c)((function(e){return e.app.initialized})),globalMessage:Object(r.c)((function(e){return e.app.globalMessage}),a.c)}},f=function(){var e=Object(r.b)();return{toggleInitialized:function(t){return e(o(t))},setGlobalMessage:function(t,n){return e(u({message:t,isSuccess:n}))},removeGlobalMessage:function(){return e(l())}}};t.a=i.reducer},128:function(e,t,n){},153:function(e,t,n){},154:function(e,t,n){},159:function(e,t,n){},160:function(e,t,n){},161:function(e,t,n){},162:function(e,t,n){},163:function(e,t,n){},164:function(e,t,n){},165:function(e,t,n){},166:function(e,t,n){},167:function(e,t,n){},168:function(e,t,n){},169:function(e,t,n){},170:function(e,t,n){},171:function(e,t,n){},172:function(e,t,n){},19:function(e,t,n){"use strict";n.d(t,"g",(function(){return x})),n.d(t,"l",(function(){return v})),n.d(t,"i",(function(){return _})),n.d(t,"j",(function(){return N})),n.d(t,"h",(function(){return w})),n.d(t,"f",(function(){return y})),n.d(t,"m",(function(){return A})),n.d(t,"k",(function(){return S})),n.d(t,"n",(function(){return k})),n.d(t,"d",(function(){return C})),n.d(t,"c",(function(){return F})),n.d(t,"e",(function(){return U})),n.d(t,"b",(function(){return P}));var s=n(9),a=n.n(s),r=n(21),i=n(16),c=n(2),o=n(3),u=n(12),l="findFriends/SET_USERS",d="findFriends/TOGGLE_FRIEND",f="findFriends/TOGGLE_IS_FETCHING",b="findFriends/TOGGLE_IS_ADDING_FRIEND",j="findFriends/TOGGLE_WHICH_FRIEND_IS_ADDING",h="findFriends/SET_SEARCH_CONDITION",m="findFriends/SET_USERS_COUNT",p="findFriends/SET_TOTAL_COUNT",g="findFriends/SET_CURRENT_PAGE",O={users:[],totalCount:0,usersCount:10,currentPage:1,searchConditions:{term:"",isOnlyFriends:null},isFetching:!1,isAddingFriend:!1,whichFriendIsAdding:[]},x=function(e){return{type:h,payload:e}},v=function(e,t){return{type:d,id:e,isFriend:t}},_=function(e){return{type:l,users:e}},N=function(e){return{type:m,usersCount:e}},w=function(e){return{type:p,totalCount:e}},y=function(e){return{type:g,currentPage:e}},A=function(e){return{type:f,isFetching:e}},S=function(e){return{type:b,isAddingFriend:e}},k=function(e){return{type:j,id:e}},C=function(e,t,n,s){return function(){var i=Object(r.a)(a.a.mark((function r(i){var c;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,i(y(t)),i(A(!0)),a.next=5,o.f.getUsers(e,t,n,s);case 5:c=a.sent,i(A(!1)),i(_(c.items)),i(w(c.totalCount)),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),i(Object(u.c)({message:a.t0,isSuccess:!1}));case 14:case"end":return a.stop()}}),r,null,[[0,11]])})));return function(e){return i.apply(this,arguments)}}()},F=function(e,t,n,s,c){return function(){var l=Object(r.a)(a.a.mark((function r(l){var d;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,l(y(t)),l(A(!0)),a.next=5,o.f.getUsers(e,t,s,c);case 5:d=a.sent,l(A(!1)),l(_([].concat(Object(i.a)(n),Object(i.a)(d.items)))),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),l(Object(u.c)({message:a.t0,isSuccess:!1}));case 13:case"end":return a.stop()}}),r,null,[[0,10]])})));return function(e){return l.apply(this,arguments)}}()},U=function(e){return function(){var t=Object(r.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(S(!0)),n(k(e)),t.next=4,o.b.postAddFriend(e);case 4:t.sent.resultCode===o.d.Success&&(n(S(!1)),n(k(e)),n(v(e,!0)));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},P=function(e){return function(){var t=Object(r.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(S(!0)),n(k(e)),t.next=4,o.b.deleteFriend(e);case 4:t.sent.resultCode===o.d.Success&&(n(S(!1)),n(k(e)),n(v(e,!1)));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:var n=e.users.map((function(e){return e.id===t.id?Object(c.a)(Object(c.a)({},e),{},{followed:t.isFriend}):e}));return Object(c.a)(Object(c.a)({},e),{},{users:n});case l:return Object(c.a)(Object(c.a)({},e),{},{users:Object(i.a)(t.users)});case m:return Object(c.a)(Object(c.a)({},e),{},{usersCount:t.usersCount});case p:return Object(c.a)(Object(c.a)({},e),{},{totalCount:t.totalCount});case g:return Object(c.a)(Object(c.a)({},e),{},{currentPage:t.currentPage});case f:return Object(c.a)(Object(c.a)({},e),{},{isFetching:t.isFetching});case b:return Object(c.a)(Object(c.a)({},e),{},{isAddingFriend:t.isAddingFriend});case j:return Object(c.a)(Object(c.a)({},e),{},{whichFriendIsAdding:e.isAddingFriend?[t.id]:e.whichFriendIsAdding.filter((function(e){return e!==t.id}))});case h:return Object(c.a)(Object(c.a)({},e),{},{searchConditions:Object(c.a)(Object(c.a)({},e.searchConditions),t.payload)});default:return e}}},27:function(e,t,n){"use strict";n.d(t,"f",(function(){return g})),n.d(t,"h",(function(){return x})),n.d(t,"g",(function(){return _})),n.d(t,"d",(function(){return N})),n.d(t,"c",(function(){return w})),n.d(t,"a",(function(){return y})),n.d(t,"i",(function(){return A})),n.d(t,"e",(function(){return S}));var s=n(9),a=n.n(s),r=n(21),i=n(2),c=n(3),o=n(12),u="SET_USER_DATA",l="SET_AUTH_USER_PROFILE",d="TOGGLE_AUTH",f="TOGGLE_IS_AUTH_DATA_INCORRECT",b="TOGGLE_IS_AUTHORIZING",j="SET_AUTH_USER_STATUS",h="SET_CAPTCHA_URL",m={id:null,email:null,login:null,captchaURL:null,isAuth:!1,isAuthorizing:!1,isAuthDataIncorrect:!1,authorizedUserProfile:null,authUserStatus:""},p=function(e){return{type:u,data:e}},g=function(e){return{type:l,profile:e}},O=function(e){return{type:d,isAuth:e}},x=function(e){return{type:f,isAuthDataIncorrect:e}},v=function(e){return{type:b,isAuthorizing:e}},_=function(e){return{type:h,captchaURL:e}},N=function(e,t){return function(n){c.c.putUsersPhoto(e).then((function(e){e.resultCode===c.d.Success&&c.c.getUserProfileData(t).then((function(e){n(g(e))}))}))}},w=function(){return function(){var e=Object(r.a)(a.a.mark((function e(t){var n,s,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(v(!0)),e.next=3,c.a.getAuthUserData();case 3:if((n=e.sent).resultCode!==c.d.Success){e.next=15;break}return t(O(!0)),t(p(n.data)),e.next=9,c.c.getUserProfileData(n.data.id);case 9:return s=e.sent,e.next=12,c.c.getUserStatus(n.data.id);case 12:r=e.sent,t(g(s)),t({type:j,authUserStatus:r});case 15:t(v(!1));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},y=function(e,t,n,s){return function(a){return c.a.authorize(e,t,n,s).then((function(e){return e.resultCode===c.d.Success?(a(x(!1)),a(w()),Promise.resolve(e.messages)):e.resultCode?(e.resultCode===c.d.CaptchaRequired&&a(k()),a(x(!0)),Promise.reject(e.messages)):void 0}))}},A=function(){return function(e){c.a.unAuthorize().then((function(t){t.resultCode===c.d.Success&&(e(O(!1)),e(g(m.authorizedUserProfile)),e(p(null)))}))}},S=function(e){return function(){var t=Object(r.a)(a.a.mark((function t(n){var s,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.c.putUserProfile(e);case 3:if(t.sent.resultCode!==c.d.Success){t.next=13;break}return t.next=7,c.a.getAuthUserData();case 7:return s=t.sent,t.next=10,c.c.getUserProfileData(s.data.id);case 10:r=t.sent,n(g(r)),n(Object(o.c)({message:"Profile update is successful",isSuccess:!0}));case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),n(Object(o.c)({message:t.t0,isSuccess:!1}));case 18:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e){return t.apply(this,arguments)}}()},k=function(){return function(){var e=Object(r.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.e.getCaptcha();case 3:n=e.sent,t(_(n.url)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t(Object(o.c)({message:e.t0,isSuccess:!1}));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(i.a)(Object(i.a)({},e),t.data);case l:return Object(i.a)(Object(i.a)({},e),{},{authorizedUserProfile:t.profile});case d:return Object(i.a)(Object(i.a)({},e),{},{isAuth:t.isAuth});case f:return Object(i.a)(Object(i.a)({},e),{},{isAuthDataIncorrect:t.isAuthDataIncorrect});case b:return Object(i.a)(Object(i.a)({},e),{},{isAuthorizing:t.isAuthorizing});case j:return Object(i.a)(Object(i.a)({},e),{},{authUserStatus:t.authUserStatus});case h:return Object(i.a)(Object(i.a)({},e),{},{captchaURL:t.captchaURL});default:return e}}},271:function(e,t,n){},281:function(e,t){},283:function(e,t,n){},284:function(e,t,n){},285:function(e,t,n){},286:function(e,t,n){},287:function(e,t,n){},288:function(e,t,n){},289:function(e,t,n){},29:function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return O}));var s=n(11),a=n(48),r=n(36),i={friendsList:[{avatar:"https://miro.medium.com/max/1400/1*JyYin7G7aGwgD9zpYBZ12Q.png",name:"Vasya",isOnline:!0},{avatar:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTcI9trY8oLre9yDw8OL15v4w7gYlmHL5oIpQwot7Qy26HxtcrMLPBMoc3iJvdM_KOJgTY&usqp=CAU",name:"John",isOnline:!1},{avatar:"https://img.freepik.com/free-photo/pleasant-looking-serious-man-stands-in-profile-has-confident-expression-wears-casual-white-t-shirt_273609-16959.jpg?size=626&ext=jpg",name:"Peter",isOnline:!1},{avatar:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSYH_VDaGfxQ_cPhkgDPyoxXJgnnKHzEw7kdg&usqp=CAU",name:"Vasya",isOnline:!0},{avatar:"https://images.unsplash.com/photo-1614283233556-f35b0c801ef1?ixid=MnwxMjA3fDB8MHxzZWFyY2h8Mnx8d29tYW4lMjBwcm9maWxlfGVufDB8fDB8fA%3D%3D&ixlib=rb-1.2.1&w=1000&q=80",name:"Vasya",isOnline:!0},{avatar:"https://miro.medium.com/max/1400/1*JyYin7G7aGwgD9zpYBZ12Q.png",name:"Vasya",isOnline:!0},{avatar:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTcI9trY8oLre9yDw8OL15v4w7gYlmHL5oIpQwot7Qy26HxtcrMLPBMoc3iJvdM_KOJgTY&usqp=CAU",name:"John",isOnline:!1},{avatar:"https://img.freepik.com/free-photo/pleasant-looking-serious-man-stands-in-profile-has-confident-expression-wears-casual-white-t-shirt_273609-16959.jpg?size=626&ext=jpg",name:"Peter",isOnline:!1},{avatar:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSYH_VDaGfxQ_cPhkgDPyoxXJgnnKHzEw7kdg&usqp=CAU",name:"Vasya",isOnline:!0},{avatar:"https://images.unsplash.com/photo-1614283233556-f35b0c801ef1?ixid=MnwxMjA3fDB8MHxzZWFyY2h8Mnx8d29tYW4lMjBwcm9maWxlfGVufDB8fDB8fA%3D%3D&ixlib=rb-1.2.1&w=1000&q=80",name:"Vasya",isOnline:!0},{avatar:"https://miro.medium.com/max/1400/1*JyYin7G7aGwgD9zpYBZ12Q.png",name:"Vasya",isOnline:!0},{avatar:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTcI9trY8oLre9yDw8OL15v4w7gYlmHL5oIpQwot7Qy26HxtcrMLPBMoc3iJvdM_KOJgTY&usqp=CAU",name:"John",isOnline:!1},{avatar:"https://img.freepik.com/free-photo/pleasant-looking-serious-man-stands-in-profile-has-confident-expression-wears-casual-white-t-shirt_273609-16959.jpg?size=626&ext=jpg",name:"Peter",isOnline:!1},{avatar:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSYH_VDaGfxQ_cPhkgDPyoxXJgnnKHzEw7kdg&usqp=CAU",name:"Vasya",isOnline:!0},{avatar:"https://images.unsplash.com/photo-1614283233556-f35b0c801ef1?ixid=MnwxMjA3fDB8MHxzZWFyY2h8Mnx8d29tYW4lMjBwcm9maWxlfGVufDB8fDB8fA%3D%3D&ixlib=rb-1.2.1&w=1000&q=80",name:"Vasya",isOnline:!0},{avatar:"https://miro.medium.com/max/1400/1*JyYin7G7aGwgD9zpYBZ12Q.png",name:"Vasya",isOnline:!0},{avatar:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTcI9trY8oLre9yDw8OL15v4w7gYlmHL5oIpQwot7Qy26HxtcrMLPBMoc3iJvdM_KOJgTY&usqp=CAU",name:"John",isOnline:!1},{avatar:"https://img.freepik.com/free-photo/pleasant-looking-serious-man-stands-in-profile-has-confident-expression-wears-casual-white-t-shirt_273609-16959.jpg?size=626&ext=jpg",name:"Peter",isOnline:!1},{avatar:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSYH_VDaGfxQ_cPhkgDPyoxXJgnnKHzEw7kdg&usqp=CAU",name:"Vasya",isOnline:!0},{avatar:"https://images.unsplash.com/photo-1614283233556-f35b0c801ef1?ixid=MnwxMjA3fDB8MHxzZWFyY2h8Mnx8d29tYW4lMjBwcm9maWxlfGVufDB8fDB8fA%3D%3D&ixlib=rb-1.2.1&w=1000&q=80",name:"Vasya",isOnline:!0}]},c=function(){return i},o={friendsId:[1,10,4,3]},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;return t.type,e},l=n(19),d=n(27),f=n(12),b=n(50),j=n(115),h=n(10),m=Object(s.combineReducers)({dialogs:a.a,profile:r.b,rightSideBar:c,friendsList:u,findFriends:l.a,auth:d.b,app:f.a}),p=Object(s.createStore)(m,Object(j.composeWithDevTools)(Object(s.applyMiddleware)(b.a))),g=function(){return Object(h.d)()},O=h.e;t.a=p},290:function(e,t,n){},291:function(e,t,n){},292:function(e,t,n){},293:function(e,t,n){},294:function(e,t,n){},295:function(e,t,n){},296:function(e,t,n){},297:function(e,t,n){},298:function(e,t,n){},299:function(e,t,n){},3:function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return d}));var s,a=n(113),r=n.n(a).a.create({withCredentials:!0,headers:{"API-KEY":"33944b96-dc0e-43ef-af5e-764a7198445e"},baseURL:"https://social-network.samuraijs.com/api/1.0/"});!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error",e[e.CaptchaRequired=10]="CaptchaRequired"}(s||(s={}));var i=function(e){return e().then((function(e){return e.data})).catch((function(e){return Promise.reject(e.message)}))},c={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,a=n?"&term=".concat(n):"",c=null===s?"":"&friend=".concat(s);return i((function(){return r.get("users?count=".concat(e,"&page=").concat(t).concat(a).concat(c))}))}},o={getUserProfileData:function(e){return r.get("profile/".concat(e)).then((function(e){return e.data}))},putUsersPhoto:function(e){return r.put("profile/photo",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))},getUserStatus:function(e){return i((function(){return r.get("profile/status/".concat(e))}))},putUserStatus:function(e){return i((function(){return r.put("profile/status",{status:e})}))},putUserProfile:function(e){return i((function(){return r.put("profile",e)}))}},u={postAddFriend:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return r.post("follow/".concat(e)).then((function(e){return e.data}))},deleteFriend:function(e){return r.delete("follow/".concat(e)).then((function(e){return e.data}))}},l={getAuthUserData:function(){return r.get("auth/me").then((function(e){return e.data}))},authorize:function(e,t,n){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return r.post("auth/login",{email:e,password:t,rememberMe:n,captcha:s}).then((function(e){return e.data}))},unAuthorize:function(){return r.delete("auth/login").then((function(e){return e.data}))}},d={getCaptcha:function(){return i((function(){return r.get("security/get-captcha-url")}))}}},300:function(e,t,n){},301:function(e,t,n){"use strict";n.r(t),n.d(t,"rerenderEntireTree",(function(){return De}));var s=n(1),a=n.n(s),r=n(59),i=n.n(r),c=(n(127),n(128),function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,303)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),s(e),a(e),r(e),i(e)}))}),o=n(29),u=n(5),l=n(14),d=(n(153),n(10)),f=n(13),b=(n(154),function(e,t){Object(s.useEffect)((function(){function n(n){e.current&&!e.current.contains(n.target)&&t(!1)}return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}}),[e])}),j=n(0),h=function(e){var t=a.a.createRef(),n=Object(s.useState)(!1),r=Object(f.a)(n,2),i=r[0],c=r[1];b(t,c);return e.isAuth?Object(j.jsx)("nav",{className:i?"nav nav--opened":"nav",ref:t,children:Object(j.jsxs)("ul",{className:"nav__list",children:[Object(j.jsx)("li",{children:Object(j.jsxs)("div",{className:"nav__burger nav__item",onClick:function(){c(!i)},children:[Object(j.jsx)("i",{className:"fas fa-bars"}),Object(j.jsx)("span",{className:"nav__item-description",children:"Collapse Menu"})]})}),Object(j.jsx)("li",{children:Object(j.jsxs)(u.b,{className:"nav__item",to:"/profile",children:[Object(j.jsx)("i",{className:"far fa-user-circle"}),Object(j.jsx)("span",{className:"nav__item-description",children:"Profile"})]})}),Object(j.jsx)("li",{children:Object(j.jsxs)(u.b,{className:"nav__item",to:"/dialogs",children:[Object(j.jsx)("i",{className:"far fa-envelope"}),Object(j.jsx)("span",{className:"nav__item-description",children:"Dialogs"})]})}),Object(j.jsx)("li",{children:Object(j.jsxs)(u.b,{className:"nav__item",to:"/news",children:[Object(j.jsx)("i",{className:"far fa-newspaper"}),Object(j.jsx)("span",{className:"nav__item-description",children:"News"})]})}),Object(j.jsx)("li",{children:Object(j.jsxs)(u.b,{className:"nav__item",to:"/music",children:[Object(j.jsx)("i",{className:"fas fa-headphones-alt"}),Object(j.jsx)("span",{className:"nav__item-description",children:"Music"})]})}),Object(j.jsx)("li",{children:Object(j.jsxs)(u.b,{className:"nav__item",to:"/settings",children:[Object(j.jsx)("i",{className:"fas fa-wrench"}),Object(j.jsx)("span",{className:"nav__item-description",children:"Settings"})]})})]})}):null},m=(n(159),n(160),function(e){return Object(j.jsxs)(u.b,{className:"dialogItem",to:"/dialogs/"+e.id,children:[Object(j.jsx)("img",{className:"dialogItem__avatar",src:e.avatarLink}),Object(j.jsxs)("div",{className:"dialogItem__text-box",children:[Object(j.jsx)("p",{className:"dialogItem__name",children:e.name}),Object(j.jsxs)("p",{className:"dialogItem__first-message",children:[Object(j.jsxs)("span",{className:"dialogItem__first-message-name",children:[e.messageName,": "]}),e.message]})]})]})}),p=(n(161),function(e){var t="message__wrapper",n="--my-message";return e.owner&&(n=""),Object(j.jsx)("div",{className:"".concat(t," ").concat(t).concat(n),children:Object(j.jsxs)("div",{className:"message",children:[Object(j.jsx)("p",{className:"message__text",children:e.message}),Object(j.jsx)("p",{className:"message__time",children:e.time})]})})}),g=(n(162),n(31)),O=function(e){var t=a.a.createRef();return Object(j.jsxs)("div",{className:"message-input",children:[Object(j.jsx)("textarea",{ref:t,cols:"40",rows:"10",placeholder:"Write your message...",className:"message-input__textarea",value:e.messageInputValue,onChange:function(){e.textAreaOnChange(t)}}),Object(j.jsx)("div",{onClick:function(){e.sendMessage(e.messageInputValue)},children:Object(j.jsx)(g.a,{textareaEl:t,inner:"Send"})})]})},x=n(48),v=Object(d.b)((function(e){return{messageInputValue:e.dialogs.messageInputValue}}),(function(e){return{sendMessage:function(t){if(t){var n=new Date,s=Object(x.b)(t,n.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"}));e(s)}},textAreaOnChange:function(t){e(Object(x.c)(t.current.value))}}}))(O),_=n(2),N=n(12),w=function(e){return{isAuth:e.auth.isAuth,isAuthorizing:e.auth.isAuthorizing}},y=function(e){return Object(d.b)(w,{removeGlobalMessage:N.b})((function(t){return t.isAuth||t.isAuthorizing?Object(j.jsx)(e,Object(_.a)({},t)):Object(j.jsx)(l.a,{to:"/login"})}))},A=y((function(e){var t=e.state,n=t.dialogs.messages.map((function(e){return Object(j.jsx)(p,{message:e.message,time:e.time,owner:e.owner})})),s=t.dialogs.dialogItems.map((function(e){return Object(j.jsx)(m,{id:e.id,avatarLink:e.avatarLink,name:e.name,messageName:e.messageName,message:e.message})}));return Object(j.jsxs)("div",{className:"dialogs",children:[Object(j.jsx)("div",{className:"dialogs-items",children:s}),Object(j.jsxs)("div",{className:"messages-box",children:[Object(j.jsx)("div",{className:"messages",children:n}),Object(j.jsx)(v,{store:e.store})]})]})})),S=(n(164),function(){return Object(j.jsx)("div",{className:"news",children:"News"})}),k=(n(165),function(){return Object(j.jsx)("div",{className:"music",children:"Music"})}),C=(n(166),n(167),function(e){var t="";return e.isOnline&&(t="online"),Object(j.jsxs)("div",{className:"friend-item",children:[Object(j.jsx)("img",{src:e.avatar,alt:e.name,className:"friend-item__avatar"}),Object(j.jsx)("div",{className:"friend-item__is-online friend-item__".concat(t)})]})}),F=function(e){if(!e.isAuth)return null;var t=e.data.friendsList.map((function(e){return Object(j.jsx)(C,{avatar:e.avatar,name:e.name,isOnline:e.isOnline})}));return Object(j.jsx)("div",{className:"right-side-bar",children:t})},U=n(19),P=(n(168),n(169),n.p+"static/media/defaultAvatar.487e150e.png"),D=function(e){var t=Object(s.useRef)(null),n=function(){return e.followed?"Remove":"Add Friend"};return Object(j.jsxs)("div",{className:"user-item",children:[Object(j.jsx)(u.b,{to:"/profile/".concat(e.id),className:"user-item__avatar-box",children:Object(j.jsx)("img",{src:e.photos.small?e.photos.small:P,alt:e.name,className:"user-item__avatar"})}),Object(j.jsx)("div",{ref:t,onClick:function(){e.followed||(e.postAddFriend(e.id),n()),e.followed&&(e.deleteFriend(e.id),n())},className:"user-item__btn-wrapper",children:Object(j.jsx)(g.a,{inner:n(),disabled:e.whichFriendIsAdding.some((function(t){return t===e.id}))})}),Object(j.jsx)(u.b,{to:"/profile/".concat(e.id),className:"user-item__name",children:e.name}),Object(j.jsx)("p",{className:"user-item__about",children:e.status})]})},I=(n(170),n(42)),M=function(e){var t=e.setQueryParams,n=e.setSearchConditions;return Object(j.jsxs)("div",{className:"search-filter",children:[Object(j.jsx)("p",{className:"search-filter__title",children:"Search Options"}),Object(j.jsx)(I.a,{initialValues:{isOnlyFriends:null},onSubmit:function(e){var s;switch(e.isOnlyFriends){case"true":s=!0;break;case"false":s=!1;break;default:s=null}n({isOnlyFriends:s}),t("friends",s)},children:function(e){return Object(j.jsx)("form",{action:"",className:"search-filter__form",children:Object(j.jsxs)("select",{name:"isOnlyFriends",onChange:function(t){e.handleChange(t),e.handleSubmit()},className:"search-filter__select",children:[Object(j.jsx)("option",{value:"",className:"search-filter__select-option",children:"All"}),Object(j.jsx)("option",{value:"true",className:"search-filter__select-option",children:"Only Friends"}),Object(j.jsx)("option",{value:"false",className:"search-filter__select-option",children:"Except Friends"})]})})}})]})},G=(n(171),function(){return Object(j.jsx)("div",{className:"show-more-btn",children:Object(j.jsxs)("button",{className:"show-more-btn__btn",children:[Object(j.jsx)("i",{className:"fas fa-redo"}),Object(j.jsx)("p",{children:"Show more"})]})})}),L=(n(172),n(51)),E=function(e,t){return Object(j.jsx)("div",{onClick:function(){return e(t)},className:"pagination__number-box",children:Object(j.jsx)("span",{className:"pagination__number",children:"..."})},Object(L.a)())},T=function(e){var t=e.currentPage,n=e.itemsCount,a=e.totalCount,r=e.getItems,i=e.numOfLinks,c=Math.ceil(a/n),o=c,u=Object(s.useState)(null),l=Object(f.a)(u,2),d=l[0],b=l[1],h=1,m=(t+"").length>=5?"pagination__number-box--large":"",p=function(e){return Object(j.jsx)("div",{className:e!==t?"pagination__number-box ".concat(m):"pagination__number-box pagination__current-page ".concat(m),onClick:function(){g(e),b(null)},children:Object(j.jsx)("span",{className:"pagination__number","data-testid":e===t?"current page":"link",children:e})},Object(L.a)())},g=function(e){window.scrollTo(0,0),r(n,e)},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;h>i&&-1===Math.sign(e)&&b(h+e),h<c-i&&1===Math.sign(e)&&b(h+e)},x=function(e){t>1&&!(e+1)&&g(t+e),t+1<=c&&e+1&&g(t+e),b(null)};return Object(j.jsxs)("div",{className:"pagination",children:[Object(j.jsx)("div",{onClick:function(){return x(-1)},className:"pagination__arrow pagination__arrow-prev","data-testid":"prev"}),Object(j.jsx)("div",{className:"pagination__numbers-box",children:function(e){var n=[];if(e&&(h=e,o=e+i-1<=c?e+i-1:c),!e){var s=function(e,t,n,s){var a=1,r=s,i=t%s;return 0===n&&e>=s&&(a=e-(s-1)),1===n&&e>s&&(a=e),n>1&&e>s&&(a=e-n+1),e>t-i&&(r=t,a=t-(i-1)),e<=t-i&&(r=a+(s-1)),0===t&&(r=1,a=1),[a,r]}(t,c,t%i,i),a=Object(f.a)(s,2);h=a[0],o=a[1]}(t>i&&!e||e>i)&&(n.push(p(1)),n.push(E(O,-i)));for(var r=h;r<=o;r++)n.push(p(r));return(t<c-c%i&&!e||e&&e<c-c%i)&&(n.push(E(O,i)),n.push(p(c))),n}(d)}),Object(j.jsx)("div",{onClick:function(){return x(1)},className:"pagination__arrow pagination__arrow-next","data-testid":"next"})]})},z=n(28),H=(n(271),function(e){var t=e.setQueryParams,n=e.setSearchConditions,a=Object(s.useState)(null),r=Object(f.a)(a,2),i=r[0],c=r[1],o=function(e){n({term:e}),t("term",e)};return Object(s.useEffect)((function(){var e;return null!==i&&(e=setTimeout((function(){o(i)}),1600)),function(){clearTimeout(e)}}),[i]),Object(j.jsx)(I.a,{initialValues:{termFindFriends:i},validationSchema:z.a({termFindFriends:z.b().max(100,"Search keys must be less than 100 characters")}),onSubmit:function(e){return o(e.termFindFriends)},children:function(e){return Object(j.jsxs)("form",{className:"search-input__search-box",onSubmit:e.handleSubmit,children:[Object(j.jsx)("input",{onChange:function(t){e.handleChange(t),c(t.currentTarget.value)},type:"text",className:"search-input__search-input",name:"termFindFriends",placeholder:"Search..."}),Object(j.jsx)("button",{className:"search-input__search-btn-submit",type:"submit",children:Object(j.jsx)("i",{className:"fas fa-search "})})]})}})}),J=function(e){var t=e.usersCount,n=e.currentPage,s=e.getUsers,a=Object(l.g)(),r=a.location,i=function(e,t){var n="term"===e?/term=\w*/:/page=\d*/,s="";if(r.search&&(s=r.search.slice(1)),r.search.includes(e)){var i=r.search.replace(n,"".concat(e,"=").concat(t));a.push(i)}r.search.includes(e)||a.push("".concat(r.pathname,"?").concat(s,"&").concat(e,"=").concat(t))};return Object(j.jsxs)("div",{className:"find-friends",children:[Object(j.jsx)("div",{className:"find-friends__search-box",children:Object(j.jsx)(H,{setQueryParams:i,setSearchConditions:e.setSearchConditions})}),Object(j.jsx)(M,{setQueryParams:i,setSearchConditions:e.setSearchConditions}),Object(j.jsxs)("div",{className:e.isFetching?"find-friends__user-list find-friends__user-list--is-fetching":"find-friends__user-list",children:[e.users.map((function(t){return Object(j.jsx)(D,{photos:t.photos,name:t.name,status:t.status,followed:t.followed,id:t.id,whichFriendIsAdding:e.whichFriendIsAdding,postAddFriend:e.postAddFriend,deleteFriend:e.deleteFriend},Object(L.a)())})),Object(j.jsx)("div",{className:"find-friends__show-more-wrapper",children:e.currentPage<Math.ceil(e.totalCount/e.usersCount)?Object(j.jsx)("div",{className:"find-friends__show-more-box",onClick:function(){var t=window.scrollY;e.getAdditionalUsers(e.usersCount,+e.currentPage+1,e.users,e.searchConditions.term,e.searchConditions.isOnlyFriends),window.scrollTo(0,t)},children:Object(j.jsx)(G,{})}):null})]}),Object(j.jsx)("div",{className:"find-friends__pagination-box",children:Object(j.jsx)(T,{currentPage:+n,itemsCount:t,totalCount:e.totalCount,getItems:function(t,n){var a,r;s(t,n,null===(a=e.searchConditions)||void 0===a?void 0:a.term,null===(r=e.searchConditions)||void 0===r?void 0:r.isOnlyFriends),i("page",n)},numOfLinks:5})})]})},R=n(11),V=n(41),B=n(121),Y=n.n(B),q=Object(d.b)((function(e){return{users:e.findFriends.users,usersCount:e.findFriends.usersCount,currentPage:e.findFriends.currentPage,totalCount:e.findFriends.totalCount,isFetching:e.findFriends.isFetching,isAddingFriend:e.findFriends.isAddingFriend,whichFriendIsAdding:e.findFriends.whichFriendIsAdding,searchConditions:e.findFriends.searchConditions}}),{toggleFriend:U.l,setUsers:U.i,setUsersCount:U.j,setTotalCount:U.h,setCurrentPage:U.f,toggleIsFetching:U.m,toggleAddingFriend:U.k,toggleWhichFriendIsAdding:U.n,getUsers:U.d,getAdditionalUsers:U.c,postAddFriend:U.e,deleteFriend:U.b,setSearchConditions:U.g}),W=Object(R.compose)(q,y,V.a)((function(e){var t=Object(l.h)(),n=Y.a.parse(t.search,{ignoreQueryPrefix:!0}),a=e.searchConditions,r=a.term,i=a.isOnlyFriends;return Object(s.useEffect)((function(){if(window.scrollTo(0,0),t.search){var s=n.page?n.page:1,a=n.friends?n.friends:i,c=n.term?n.term:r;e.getUsers(e.usersCount,+s,c,a)}t.search||e.getUsers(e.usersCount,1,"",null)}),[t.search]),Object(j.jsx)(J,Object(_.a)({},e))})),Q=(n(283),n(284),n(285),function(e){if(!e.link)return null;var t,n=e.link.startsWith("https://")||e.link.startsWith("http://")?e.link:"https://".concat(e.link),s="--".concat(e.type);if(e.link)switch(e.type){case"facebook":t=Object(j.jsx)("i",{className:"fab fa-facebook"});break;case"website":t=Object(j.jsx)("i",{className:"fas fa-project-diagram"});break;case"vk":t=Object(j.jsx)("i",{className:"fab fa-vk"});break;case"twitter":t=Object(j.jsx)("i",{className:"fab fa-twitter"});break;case"instagram":t=Object(j.jsx)("i",{className:"fab fa-instagram"});break;case"youtube":t=Object(j.jsx)("i",{className:"fab fa-youtube"});break;case"github":t=Object(j.jsx)("i",{className:"fab fa-github"});break;case"mainLink":t=Object(j.jsx)("i",{className:"fas fa-home"})}return Object(j.jsx)("a",{href:n,className:"network-contact network-contact".concat(s),target:"_blank",children:t})}),K=n.p+"static/media/currDefProfileBg.2319ce56.png",Z=(n(286),function(e){var t=Object(s.useState)(!1),n=Object(f.a)(t,2),a=n[0],r=n[1],i=Object(s.useState)(""),c=Object(f.a)(i,2),o=c[0],u=c[1],l=Object(s.useRef)(null),d=function(){e.userStatus!==o&&e.putUserStatus(o),r(!1)},b=function(){u(e.userStatus),r(!0)};return Object(j.jsxs)(j.Fragment,{children:[e.statusEditable&&Object(j.jsx)("div",{className:"profile-status__status-box",ref:l,children:a?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("input",{autoFocus:!0,type:"text",className:"profile-status__status-input",onChange:function(e){return u(e.target.value)},value:o,onKeyDown:function(e){"Enter"===e.key&&d()}}),Object(j.jsx)("button",{className:"profile-status__status-btn",onClick:d,children:Object(j.jsx)("i",{className:"fas fa-check-circle"})})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("p",{className:"profile-status__status",onDoubleClick:b,title:e.userStatus,children:e.userStatus?e.userStatus:"Your Status"}),Object(j.jsx)("button",{className:"profile-status__status-btn",onClick:b,children:Object(j.jsx)("i",{className:"far fa-edit"})})]})}),!e.statusEditable&&Object(j.jsx)("p",{className:"profile-status__status",title:e.userStatus,children:e.userStatus})]})}),X=function(e){var t=[];for(var n in e.contacts)t.push(Object(j.jsx)(Q,{link:e.contacts[n],type:n},n));var s=e.background?e.background:K,a=e.avatar?e.avatar:P;return Object(j.jsxs)("div",{className:"profileHeader",children:[Object(j.jsx)("div",{className:"profileHeader__background",children:Object(j.jsx)("img",{alt:"Background",src:s})}),Object(j.jsx)("div",{className:"profileHeader__menu",children:Object(j.jsx)("div",{className:"profileHeader__contacts",children:t})}),Object(j.jsxs)("div",{className:"profileHeader__profile-short profile-short",children:[Object(j.jsx)("a",{href:"#",children:Object(j.jsx)("img",{src:a,alt:"avatar"})}),Object(j.jsx)("a",{href:"#",children:Object(j.jsx)("p",{className:"profile-short__name",children:e.name})}),Object(j.jsx)(Z,{statusEditable:e.statusEditable,userStatus:e.userStatus,putUserStatus:e.putUserStatus})]})]})},$=(n(287),n(288),function(e){return Object(j.jsxs)("div",{className:"intro-box__item",children:[Object(j.jsxs)("h4",{children:[e.title,":"]}),Object(j.jsx)("p",{children:e.text})]})}),ee=function(e){var t=e.fullName,n=e.lookingForAJob,s=e.lookingForAJobDesc,a=e.aboutMe;return Object(j.jsxs)("div",{className:"profileIntro",children:[Object(j.jsx)("div",{className:"profileIntro__title-box",children:Object(j.jsx)("h2",{className:"profileIntro__title",children:"Profile Intro"})}),Object(j.jsxs)("div",{className:"profileIntro__box intro-box",children:[t&&Object(j.jsx)($,{title:"Name",text:t}),a&&Object(j.jsx)($,{title:"About Me",text:a}),n&&Object(j.jsx)($,{title:"Job preferences",text:s})]})]})},te=(n(289),n(290),function(e){return Object(j.jsxs)("div",{className:"post",children:[Object(j.jsxs)("div",{className:"post__header",children:[Object(j.jsx)("a",{href:e.profileLink,children:Object(j.jsx)("img",{alt:"profile",src:e.profileImage})}),Object(j.jsx)("a",{href:e.profileLink,children:Object(j.jsx)("span",{children:e.name})})]}),Object(j.jsx)("div",{className:"post__inner",children:Object(j.jsx)("p",{children:e.text})}),Object(j.jsxs)("div",{className:"post__footer",children:[Object(j.jsxs)("div",{className:"post__mark",children:[Object(j.jsx)("button",{children:Object(j.jsx)("i",{className:"far fa-heart"})}),Object(j.jsx)("span",{className:"post__mark",children:e.likesCount})]}),Object(j.jsxs)("div",{className:"post__mark",children:[Object(j.jsx)("button",{children:Object(j.jsx)("i",{className:"far fa-comments"})}),Object(j.jsx)("span",{className:"post__comments-count",children:e.commentsCount})]})]})]})}),ne=function(e){var t=e.posts.map((function(e){return Object(j.jsx)(te,{profileLink:e.profileLink,name:e.name,profileImage:e.profileImage,text:e.text,likesCount:e.likesCount,commentsCount:e.commentsCount})})),n=a.a.createRef();return Object(j.jsxs)("div",{className:"profile-posts",children:[Object(j.jsxs)("div",{className:"profile-posts__input",children:[Object(j.jsx)("textarea",{className:"profile-posts__input-textarea",onChange:function(){e.textAreaOnChange(n.current.value)},value:e.postsInputValue,placeholder:"Write your post...",ref:n}),Object(j.jsx)("div",{onClick:function(){e.addPost()},children:Object(j.jsx)(g.a,{inner:"Post"})})]}),t]})},se=n(36),ae=Object(d.b)((function(e){return{posts:e.profile.posts}}),{addPost:se.a})(ne),re=(n(291),function(){return Object(j.jsxs)("main",{className:"preloader__box",children:[Object(j.jsxs)("div",{className:"preloader",children:[Object(j.jsx)("div",{className:"preloader__square"}),Object(j.jsx)("div",{className:"preloader__square"}),Object(j.jsx)("div",{className:"preloader__square"}),Object(j.jsx)("div",{className:"preloader__square"})]}),Object(j.jsxs)("div",{className:"status",children:["Loading",Object(j.jsx)("span",{className:"status__dot",children:"."}),Object(j.jsx)("span",{className:"status__dot",children:"."}),Object(j.jsx)("span",{className:"status__dot",children:"."})]})]})}),ie=function(e){var t,n,s=Object(l.i)().userId;return!e.profile||e.isGettingProfileData||+s!==(null===(t=e.profile)||void 0===t?void 0:t.userId)&&s?Object(j.jsx)("div",{className:"profile",children:Object(j.jsxs)("div",{className:"profile__preloader-box>",children:[" ",Object(j.jsx)(re,{})," "]})}):Object(j.jsx)("main",{className:"profile",children:Object(j.jsxs)("div",{className:"profile__box",children:[Object(j.jsx)(X,{background:e.profile.photos.large,avatar:e.profile.photos.small,name:e.profile.fullName,userStatus:e.userStatus,contacts:e.profile.contacts,statusEditable:e.profile.userId===(null===(n=e.authUserProfile)||void 0===n?void 0:n.userId),putUserStatus:e.putUserStatus}),Object(j.jsxs)("section",{className:"profile__columns",children:[Object(j.jsx)("div",{className:"profile__col1",children:Object(j.jsx)(ee,{fullName:e.profile.fullName,aboutMe:e.profile.aboutMe,lookingForAJob:e.profile.lookingForAJob,lookingForAJobDesc:e.profile.lookingForAJobDescription})}),Object(j.jsx)("div",{className:"profile__col2",children:Object(j.jsx)(ae,{})}),Object(j.jsx)("div",{className:"profile__col3"})]})]})})},ce=Object(d.b)((function(e){var t;return{profile:e.profile.userProfile,userStatus:e.profile.userStatus,authUserProfile:e.auth.authorizedUserProfile,authUserStatus:e.auth.authUserStatus,authUserId:null===(t=e.auth.authorizedUserProfile)||void 0===t?void 0:t.userId,isAuth:e.auth.isAuth,isGettingProfileData:e.profile.isGettingProfileData}}),{initUserProfileWithDataInMemory:se.c,initUserProfileWithoutDataInMemory:se.d,putUserStatus:se.e}),oe=Object(R.compose)(ce,y,V.a)((function(e){var t=+Object(l.i)().userId;return Object(s.useEffect)((function(){var n;window.scrollTo(0,0),t===(null===(n=e.profile)||void 0===n?void 0:n.userId)&&t||(JSON.stringify(e.authUserProfile)===JSON.stringify(e.profile)&&e.authUserStatus===e.userStatus||e.authUserProfile&&!e.isGettingProfileData&&e.initUserProfileWithDataInMemory(e.authUserProfile,e.authUserStatus),t&&e.initUserProfileWithoutDataInMemory(t))}),[t,e.authUserProfile,e.authUserStatus]),Object(j.jsx)(ie,Object(_.a)({},e))})),ue=n(6),le=n(7),de=n(17),fe=n(18),be=(n(292),n(293),function(e){return Object(j.jsxs)("div",{className:"search-panel",children:[Object(j.jsx)("input",{type:"text",className:"search-panel__input",placeholder:"Search here users or pages..."}),Object(j.jsx)("button",{className:"search-panel__search-button",children:Object(j.jsx)("i",{className:"fas fa-search "})})]})}),je=(n(294),function(e){var t=Object(s.useState)(!1),n=Object(f.a)(t,2),a=n[0],r=n[1],i=Object(s.useRef)(null);if(b(i,r),Object(s.useEffect)((function(){r(!1)}),[e.isAuth]),!e.isAuth)return Object(j.jsxs)("div",{className:"user-not-auth",children:[Object(j.jsx)(u.b,{to:"/login",className:"user-not-auth__sign-in",children:"Sign In"}),Object(j.jsx)(u.b,{to:"#",className:"user-not-auth__sign-up",children:"Sign Up"})]});var c=Object(j.jsx)("div",{className:"user-login-item__options-menu",children:Object(j.jsx)("ul",{children:Object(j.jsx)("li",{children:Object(j.jsx)(u.b,{to:"#",onClick:function(){return e.unAuthorize()},children:"Log Out"})})})});return Object(j.jsxs)("div",{className:"user-login-item",ref:i,children:[Object(j.jsx)(u.b,{to:"/profile",children:Object(j.jsx)("img",{src:e.avatar?e.avatar:P,alt:"Authorized User Img",className:"user-login-item__avatar"})}),Object(j.jsxs)("div",{className:"user-login-item__info",children:[Object(j.jsx)("p",{className:"user-login-item__login",children:e.login}),Object(j.jsxs)("div",{className:a?"user-login-item__arrow-box user-login-item__arrow-box--opened":"user-login-item__arrow-box",onClick:function(){r(!a)},children:[Object(j.jsx)("span",{}),Object(j.jsx)("span",{})]})]}),a?c:null]})}),he=function(e){var t;return Object(j.jsxs)("header",{className:"header",children:[Object(j.jsx)("div",{className:"header__logo-wrapper",children:Object(j.jsx)("i",{className:"fas fa-project-diagram header__logo"})}),function(){if(e.isAuth)return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{className:"header__title",children:Object(j.jsx)("span",{children:"Some Page"})}),Object(j.jsx)(be,{}),Object(j.jsx)(u.b,{to:"/users",className:"header__find-friends-btn",children:Object(j.jsx)("span",{children:"Find Friends"})})]})}(),Object(j.jsx)("div",{className:"header__user-login-box",children:Object(j.jsx)(je,{isAuth:e.isAuth,login:e.login,avatar:null===(t=e.profile)||void 0===t?void 0:t.photos.small,unAuthorize:e.unAuthorize})})]})},me=n(27),pe=function(e){Object(de.a)(n,e);var t=Object(fe.a)(n);function n(){return Object(ue.a)(this,n),t.apply(this,arguments)}return Object(le.a)(n,[{key:"render",value:function(){return Object(j.jsx)(he,Object(_.a)({},this.props))}}]),n}(a.a.Component),ge=Object(d.b)((function(e){return{isAuth:e.auth.isAuth,userId:e.auth.id,login:e.auth.login,profile:e.auth.authorizedUserProfile}}),{unAuthorize:me.i})(pe),Oe=(n(295),n(296),n(79)),xe=(n(298),function(e){var t=e.id,n=e.label,s=e.isChecked,a=e.onChange;return Object(j.jsxs)("div",{className:"custom-checkbox",children:[Object(j.jsx)("label",{htmlFor:t,className:"custom-checkbox__label-text",children:n}),Object(j.jsx)("input",{type:"checkbox",id:t,onChange:a,defaultChecked:s}),Object(j.jsx)("label",{htmlFor:t,className:"custom-checkbox__label",children:Object(j.jsx)("div",{className:"custom-checkbox__ball"})})]})}),ve=(n(299),function(e){var t=e.id,n=e.label,s=void 0===n?"":n,a=e.value,r=void 0===a?"":a,i=e.placeholder,c=void 0===i?"":i,o=e.onChange,u=e.minHeight,l=void 0===u?"":u,d=e.maxHeight,f=void 0===d?"":d,b=e.width,h=void 0===b?"":b,m=e.disabled,p=void 0!==m&&m,g=e.error,O=void 0===g?"":g;return Object(j.jsxs)("div",{className:"textarea__box",children:[Object(j.jsx)("label",{htmlFor:t,className:"textarea__label",children:s}),Object(j.jsx)("textarea",{id:t,onChange:o,className:"textarea__textarea",placeholder:c,disabled:p,defaultValue:r}),Object(j.jsx)("span",{className:"textarea__error",children:O}),Object(j.jsx)("style",{type:"text/css",children:"#".concat(t,"{\n                        min-height: ").concat(l,";\n                        max-height: ").concat(f,";\n                        width: ").concat(h,";\n                    }")})]})}),_e=n(122),Ne=n.n(_e),we=function(e){for(var t=e.profile,n=e.refreshAuthUserProfileData,a=e.setGlobalMessage,r=Object(s.useState)(t.lookingForAJob),i=Object(f.a)(r,2),c=i[0],o=i[1],u=Object(s.useState)(!1),l=Object(f.a)(u,2),d=l[0],b=l[1],h={},m=Object.keys(t.contacts),p=0;p<m.length;p++)h[m[p]]=z.b().nullable().url("Must be in URL format");var O=z.a({fullName:z.b().min(2,"Name must have more than 2 characters").max(50,"50 characters limit").required("Required").trim(),lookingForAJobDescription:z.b().nullable().max(200,"200 characters limit").trim(),aboutMe:z.b().nullable().max(200,"200 characters limit").trim(),contacts:z.a(h)}),x={fullName:t.fullName,aboutMe:t.aboutMe,lookingForAJob:t.lookingForAJob,lookingForAJobDescription:t.lookingForAJobDescription,contacts:{github:t.contacts.github,vk:t.contacts.vk,facebook:t.contacts.facebook,instagram:t.contacts.instagram,twitter:t.contacts.twitter,website:t.contacts.website,youtube:t.contacts.youtube,mainLink:t.contacts.mainLink}};return Object(j.jsx)(I.a,{initialValues:x,validationSchema:O,onSubmit:function(e){Ne.a.isEqual(x,e)?a({message:"No changes detected",isSuccess:!1}):(b(!0),n(e).then((function(){b(!1)})))},children:function(e){return Object(j.jsxs)("form",{className:"profile-settings__form",onSubmit:e.handleSubmit,children:[Object(j.jsx)(Oe.a,{id:"fullName",label:"Full Name",value:t.fullName,width:"100%",onChange:e.handleChange,error:e.errors.fullName}),Object(j.jsx)(ve,{id:"aboutMe",label:"About Me",minHeight:"80px",maxHeight:"100px",width:"100%",value:t.aboutMe,onChange:e.handleChange,error:e.errors.aboutMeInput}),Object(j.jsx)(xe,{id:"lookingForAJob",isChecked:t.lookingForAJob,onChange:function(t){e.handleChange(t),o(!c)},label:"Are you looking for a job?"}),Object(j.jsx)(ve,{id:"lookingForAJobDescription",label:"Description of the desired job",disabled:!c,minHeight:"80px",maxHeight:"100px",width:"100%",value:t.lookingForAJobDescription,onChange:e.handleChange,error:e.errors.lookingForAJobDescription}),Object.keys(t.contacts).map((function(n){var s=t.contacts[n]?t.contacts[n]:"";return Object(j.jsx)(Oe.a,{id:n,name:"contacts.".concat(n),label:n.charAt(0).toUpperCase()+n.slice(1),value:s,maxLength:150,minLength:5,width:"100%",onChange:e.handleChange,error:e.errors.contacts?e.errors.contacts[n]:""},n)})),Object(j.jsx)(g.a,{inner:"Submit",type:"submit",isFetching:d,fetchingMessage:"Sending...",disabled:d})]})}})},ye=function(e){var t=e.profile,n=e.authUserId,a=e.photo,r=e.putNewUserPhotoAndRefreshProfileState,i=e.refreshAuthUserProfileData,c=e.setGlobalMessage,o=Object(s.useState)(null),u=Object(f.a)(o,2),l=u[0],d=u[1],b=Object(s.useState)(""),h=Object(f.a)(b,2),m=h[0],p=h[1],O=a||P;return Object(j.jsxs)("div",{className:"profile-settings",children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("img",{src:m||O,alt:"",className:"profile-settings__img-preview"}),Object(j.jsxs)("div",{className:"profile-settings__set-img-controllers",children:[Object(j.jsx)("label",{htmlFor:"profile-settings__img-input",className:"profile-settings__img-input-label",children:"Browse..."}),Object(j.jsx)("input",{className:"profile-settings__img-input",id:"profile-settings__img-input",type:"file",onChange:function(e){d(e.target.files[0]),p(URL.createObjectURL(e.target.files[0]))}}),Object(j.jsx)("div",{className:"profile-settings__set-img-button",onClick:function(){var e=new FormData;e.append("image",l,l.name),r(e,n)},children:Object(j.jsx)(g.a,{inner:"Set Image",disabled:!l})})]})]}),Object(j.jsx)(we,{profile:t,refreshAuthUserProfileData:i,setGlobalMessage:c})]})},Ae=function(e){return Object(j.jsx)("div",{className:"settings",children:Object(j.jsxs)("div",{className:"settings__box",children:[Object(j.jsx)("div",{className:"settings__col1",children:Object(j.jsxs)("ul",{className:"settings__nav settings-nav",children:[Object(j.jsx)("li",{className:"settings-nav__header",children:"Account Settings"}),Object(j.jsx)(u.b,{to:"/settings/profile",children:Object(j.jsx)("li",{className:"settings-nav__item",children:"Profile"})})]})}),Object(j.jsx)("div",{className:"settings__col2",children:Object(j.jsx)(l.b,{path:"/settings/profile",render:function(){return Object(j.jsx)(ye,{photo:e.photo,profile:e.profile,authUserId:e.authUserId,setGlobalMessage:e.setGlobalMessage,putNewUserPhotoAndRefreshProfileState:e.putNewUserPhotoAndRefreshProfileState,refreshAuthUserProfileData:e.refreshAuthUserProfileData})}})}),Object(j.jsx)("div",{className:"settings__col3"})]})})},Se=Object(d.b)((function(e){var t;return{photo:null===(t=e.auth.authorizedUserProfile)||void 0===t?void 0:t.photos.small,profile:e.auth.authorizedUserProfile,authUserId:e.auth.id}}),{setAuthUserProfile:me.f,setGlobalMessage:N.c,putNewUserPhotoAndRefreshProfileState:me.d,refreshAuthUserProfileData:me.e}),ke=Object(R.compose)(Se,y,V.a)((function(e){return Object(j.jsx)(Ae,Object(_.a)({},e))})),Ce=(n(300),function(e){var t=e.message,n=e.removeMessageFunc,s=e.isSuccess;return Object(j.jsxs)("div",{className:"global-message",children:[Object(j.jsxs)("div",{className:"global-message__box",children:[Object(j.jsx)("span",{className:"global-message__message",children:t}),Object(j.jsx)("button",{className:"global-message__btn-close",type:"button",onClick:function(){return n()}})]}),s?Object(j.jsx)("style",{type:"text/css",children:".global-message{\n                background-color: #b9ffb9;\n            }"}):null]})}),Fe=a.a.lazy((function(){return n.e(3).then(n.bind(null,304))})),Ue=Object(R.compose)(Object(d.b)((function(e){return{state:e}}),{getAuthUserDataAndGetSetAuthUserProfileData:me.c}))((function(e){var t,n,r=Object(N.e)(),i=r.initialized,c=r.globalMessage,o=Object(N.d)(),d=o.toggleInitialized,f=o.removeGlobalMessage,b=c.length?c:null;if(Object(s.useEffect)((function(){e.getAuthUserDataAndGetSetAuthUserProfileData().then((function(){d(!0)}))}),[]),!i)return Object(j.jsx)("div",{className:"app-wrapper",children:Object(j.jsx)("div",{className:"main-wrapper main",children:Object(j.jsx)(re,{})})});var m,p=function(){return Object(j.jsx)(oe,{})};return Object(j.jsx)(u.a,{children:Object(j.jsxs)("div",{className:"app-wrapper",children:[Object(j.jsx)(ge,{}),Object(j.jsx)(h,{isAuth:e.state.auth.isAuth}),Object(j.jsxs)("div",{className:"main-wrapper main",children:[b?Object(j.jsx)(Ce,{message:null===(t=b[b.length-1])||void 0===t?void 0:t.message,isSuccess:null===(n=b[b.length-1])||void 0===n?void 0:n.isSuccess,removeMessageFunc:f}):null,Object(j.jsxs)(l.d,{children:[Object(j.jsx)(l.b,{path:"/profile/:userId?",render:p}),Object(j.jsx)(l.a,{exact:!0,from:"/",to:"/profile"}),Object(j.jsx)(l.b,{path:"/profile",render:p}),Object(j.jsx)(l.b,{path:"/dialogs",render:function(){return Object(j.jsx)(A,{state:e.state})}}),Object(j.jsx)(l.b,{path:"/news",component:S}),Object(j.jsx)(l.b,{path:"/music",component:k}),Object(j.jsx)(l.b,{path:"/settings",render:function(){return Object(j.jsx)(ke,{})}}),Object(j.jsx)(l.b,{path:"/users",render:function(){return Object(j.jsx)(W,{})}}),Object(j.jsx)(l.b,{path:"/login",render:(m=Fe,function(e){return Object(j.jsx)(a.a.Suspense,{fallback:Object(j.jsx)(re,{}),children:Object(j.jsx)(m,Object(_.a)({},e))})})})]})]}),Object(j.jsx)(F,{data:e.state.rightSideBar,isAuth:e.state.auth.isAuth})]})})})),Pe=function(){return Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(d.a,{store:o.a,children:Object(j.jsx)(Ue,{})})})},De=function(e){i.a.render(Object(j.jsx)(Pe,{}),document.getElementById("root"))};De(o.a),o.a.subscribe((function(){De(o.a)})),c()},31:function(e,t,n){"use strict";n(163);var s=n(0);t.a=function(e){var t=e.type,n=e.inner,a=e.disabled,r=e.isFetching,i=e.fetchingMessage;return Object(s.jsx)("button",{className:a?"commonButton commonButton--disabled":"commonButton",type:t||"button",children:void 0!==r&&r?i:n})}},36:function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"e",(function(){return p})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return O}));var s=n(9),a=n.n(s),r=n(21),i=n(3),c=n(12),o=n(65),u=Object(o.a)({name:"profile",initialState:{title:"Profile",userProfile:null,userStatus:"",isGettingProfileData:!1,posts:[{id:1,profileLink:"#",name:"Philip",profileImage:"https://s3.cdn.teleprogramma.pro/wp-content/uploads/2020/01/a76ebd11ecf1ab90a360b056f49b90a0.jpg",text:"My 1st post, guys!",likesCount:17,commentsCount:1},{id:2,profileLink:"#",name:"Philip",profileImage:"https://s3.cdn.teleprogramma.pro/wp-content/uploads/2020/01/a76ebd11ecf1ab90a360b056f49b90a0.jpg",text:"My 1st post, guys!",likesCount:17,commentsCount:1},{id:3,profileLink:"#",name:"Philip",profileImage:"https://s3.cdn.teleprogramma.pro/wp-content/uploads/2020/01/a76ebd11ecf1ab90a360b056f49b90a0.jpg",text:"My 1st post, guys!",likesCount:17,commentsCount:1}]},reducers:{setUserProfile:function(e,t){e.userProfile=t.payload},toggleIsGettingProfileData:function(e,t){e.isGettingProfileData=t.payload},setUserStatus:function(e,t){e.userStatus=t.payload},addPost:function(e,t){e.posts.push(t.payload)}}}),l=u.actions,d=l.setUserProfile,f=l.toggleIsGettingProfileData,b=l.setUserStatus,j=l.addPost,h=function(e){return function(){var t=Object(r.a)(a.a.mark((function t(n){var s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.c.getUserProfileData(e);case 2:s=t.sent,n(d(s));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(r.a)(a.a.mark((function t(n){var s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.c.getUserStatus(e);case 3:s=t.sent,n(b(s)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n(Object(c.c)({message:t.t0,isSuccess:!1}));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(r.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.c.putUserStatus(e);case 3:t.sent.resultCode===i.d.Success&&n(b(e)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n(Object(c.c)({message:t.t0,isSuccess:!1}));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},g=function(e,t){return function(n){n(f(!0)),n(b(t)),n(d(e)),n(f(!1))}},O=function(e){return function(){var t=Object(r.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(f(!0)),t.next=4,Promise.all([n(h(e)),n(m(e))]);case 4:n(f(!1)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n(Object(c.c)({message:t.t0,isSuccess:!1}));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()};t.b=u.reducer},41:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var s=n(2),a=n(10),r=n(1),i=n(12),c=n(0),o=function(e){return Object(a.b)((function(e){return{globalMessage:e.app.globalMessage}}),{removeGlobalMessage:i.b})((function(t){return Object(r.useEffect)((function(){return function(){t.globalMessage.length&&t.removeGlobalMessage()}}),[t.removeGlobalMessage]),Object(c.jsx)(e,Object(s.a)({},t))}))}},48:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return u}));var s=n(16),a=n(2),r="UPDATE_NEW_MESSAGE_TEXT",i="SEND_MESSAGE",c={title:"Dialogs",messageInputValue:"",messages:[{id:1,message:"Hey, how a u?",time:"10:00",owner:"Vasya"},{id:2,message:"Hey, how a u, friend?",time:"10:01",owner:"Vasya"},{id:3,message:"Hey, fine",time:"10:03"},{id:4,message:"And u?",time:"10:04"},{id:5,message:"The same",time:"10:07",owner:"Vasya"}],dialogItems:[{id:"1",avatarLink:"https://s3.cdn.teleprogramma.pro/wp-content/uploads/2020/01/a76ebd11ecf1ab90a360b056f49b90a0.jpg",name:"Vasya",messageName:"Vasya",message:"how a ya bro?"},{id:"2",avatarLink:"https://s3.cdn.teleprogramma.pro/wp-content/uploads/2020/01/a76ebd11ecf1ab90a360b056f49b90a0.jpg",name:"Tanya",messageName:"Tanya",message:"how a ya ma loveeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee?"},{id:"3",avatarLink:"https://s3.cdn.teleprogramma.pro/wp-content/uploads/2020/01/a76ebd11ecf1ab90a360b056f49b90a0.jpg",name:"Dimich",messageName:"Dimich",message:"how a ya bro?"}]},o=function(e){return{type:r,text:e}},u=function(e,t){return{type:i,message:e,time:t}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:return Object(a.a)(Object(a.a)({},e),{},{messages:[].concat(Object(s.a)(e.messages),[{id:e.messages.length+1,message:t.message,time:t.time,owner:null}]),messageInputValue:""});case r:return Object(a.a)(Object(a.a)({},e),{},{messageInputValue:t.text});default:return e}}},79:function(e,t,n){"use strict";n(297);var s=n(0);t.a=function(e){var t=e.id,n=e.name,a=void 0===n?"":n,r=e.label,i=void 0===r?"":r,c=e.value,o=void 0===c?"":c,u=e.placeholder,l=void 0===u?"":u,d=e.onChange,f=e.height,b=void 0===f?"":f,j=e.width,h=void 0===j?"":j,m=e.maxLength,p=void 0===m?"":m,g=e.minLength,O=void 0===g?"":g,x=e.error,v=void 0===x?"":x;return Object(s.jsxs)("div",{className:"input-text",children:[Object(s.jsx)("label",{htmlFor:t,className:"input-text__label",children:i}),Object(s.jsx)("input",{id:t,name:a,onChange:d,className:"input-text__input",type:"text",placeholder:l,maxLength:p,minLength:O,defaultValue:o}),Object(s.jsx)("span",{className:"input-text__error",children:v}),Object(s.jsx)("style",{type:"text/css",children:"#".concat(t,"{\n                    height: ").concat(b,";\n                    width: ").concat(h,";\n                }")})]})}}},[[301,1,2]]]);
//# sourceMappingURL=main.6831e156.chunk.js.map